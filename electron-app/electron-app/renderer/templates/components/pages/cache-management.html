<!-- 缓存管理页面 - 极简设计 -->
<div class="cache-management-minimal">
    <!-- 缓存概览 -->
    <div class="cache-overview">
        <h2>缓存概览</h2>
        <div class="cache-list">
            <div
                v-for="cacheType in cacheTypes"
                :key="cacheType.key"
                class="cache-item"
                :class="{ 'active': selectedCacheType === cacheType.key }"
                @click="selectCacheType(cacheType.key)">

                <div class="cache-basic-info">
                    <span class="cache-icon" v-text="cacheType.icon"></span>
                    <span class="cache-name" v-text="cacheType.name"></span>
                </div>

                <div class="cache-stats">
                    <span class="stat-text" v-text="getCacheTypeStats(cacheType.key).entries + ' 条'"></span>
                    <span class="stat-divider">|</span>
                    <span class="stat-text" v-text="getCacheTypeStats(cacheType.key).size"></span>
                </div>

                <div class="cache-actions" v-if="selectedCacheType === cacheType.key">
                    <el-button
                        size="small"
                        type="danger"
                        text
                        @click.stop="clearSingleCache(cacheType.key)"
                        :loading="loadingStates[cacheType.key]?.clearing">
                        清空
                    </el-button>
                </div>
            </div>
        </div>
    </div>

    <!-- 缓存详情 -->
    <div v-if="selectedCacheType" class="cache-detail">
        <div class="detail-header">
            <h3 v-text="getSelectedCacheName()"></h3>
            <div class="detail-actions">
                <el-button
                    size="small"
                    type="primary"
                    @click="showAddHarmonizationDialog"
                    v-if="selectedCacheType === 'harmonization_map'">
                    添加映射
                </el-button>
            </div>
        </div>

        <!-- 搜索 -->
        <div class="search-bar">
            <el-input
                v-model="cacheSearchQuery"
                placeholder="搜索..."
                prefix-icon="Search"
                clearable
                @input="filterCacheEntries">
            </el-input>
        </div>

        <!-- 条目列表 -->
        <div class="entries-container">
            <el-table
                :data="filteredCacheEntries"
                v-loading="isLoadingEntries"
                style="width: 100%">

                <el-table-column prop="key" label="键" min-width="200" show-overflow-tooltip>
                    <template #default="scope">
                        <span class="cache-key" v-text="scope.row.key"></span>
                    </template>
                </el-table-column>

                <el-table-column prop="value_preview" label="内容" min-width="300" show-overflow-tooltip>
                    <template #default="scope">
                        <div class="content-with-tags">
                            <span class="cache-content" v-text="scope.row.value_preview"></span>
                            <el-tag
                                v-if="selectedCacheType === 'translation' && scope.row.is_sensitive"
                                type="warning"
                                size="small"
                                class="sensitive-tag">
                                敏感
                            </el-tag>
                        </div>
                    </template>
                </el-table-column>

                <el-table-column label="操作" width="80" align="center">
                    <template #default="scope">
                        <el-button
                            size="small"
                            text
                            @click="editCacheEntry(scope.row)">
                            编辑
                        </el-button>
                    </template>
                </el-table-column>
            </el-table>

            <!-- 简化分页 -->
            <div class="pagination" v-if="totalEntries > pageSize">
                <el-pagination
                    :current-page="currentPage"
                    :page-size="pageSize"
                    :total="totalEntries"
                    layout="prev, pager, next"
                    @current-change="onPageChange">
                </el-pagination>
            </div>
        </div>
    </div>
</div>
